/** @param {NS} ns **/
export async function main(ns) {

	var target = ns.args[0];
	var serverMoneyThreshold = ns.args[1];
	var serverSecurityLevelThreshold = ns.args[2];

	while(true){

		var serverMoneyAvailable = ns.getServerMoneyAvailable(target);
		var serverSecurityLevel = ns.getServerSecurityLevel(target);

		if(serverSecurityLevel > serverSecurityLevelThreshold){
			ns.print("Security level (val./thresh.): " + serverSecurityLevel + " > " + serverSecurityLevelThreshold);
			ns.print("Security decrease: " + await ns.weaken(target));
			ns.print(" ")
			continue;
		}

		if(serverMoneyAvailable < serverMoneyThreshold) {
			ns.print("Money available (val./thresh.): " + serverMoneyAvailable + " < " + serverMoneyThreshold);
			ns.print("Growth ratio: " + await ns.grow(target));
			ns.print(" ")
			continue;
		}

		ns.print("Stolen money: " + await ns.hack(target));
		ns.print(" ")

	}
	
}
